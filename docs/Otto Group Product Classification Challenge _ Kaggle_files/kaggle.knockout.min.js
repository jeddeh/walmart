(function(n){ko.utils.arrayCopy||(ko.utils.arrayCopy=function(n){return n.slice(0)});ko.utils.arraySort||(ko.utils.arraySort=function(n,t){var i=n.slice(0);return i.sort(t),i});ko.utils.valuesAreRecursivelyEqual||(ko.utils.valuesAreRecursivelyEqual=function(n,t){var i,u,r,e,f;if(n===t)return!0;if(i=n===null?"null":typeof(n=n?n.valueOf():n),u=t===null?"null":typeof(t=t?t.valueOf():t),i!==u)return!1;switch(i){case"string":case"boolean":case"number":case"functon":case"undefined":case"null":return n===t}if(i={}.toString.call(n),u={}.toString.call(t),i===u){if(i==="[object Array]"){if(n.length!==t.length)return!1;for(e=n.length,r=0;r<e;r++)if(!ko.utils.valuesAreRecursivelyEqual(n[r],t[r]))return!1}else for(f in n)if(!(f in t)||!ko.utils.valuesAreRecursivelyEqual(n[f],t[f]))return!1}else return!1;return!0});ko.extenders.format=function(n,t){return ko.computed(function(){return t(n())})};ko.bindingHandlers.init={init:function(n,t,i,r){var u=ko.unwrap(t());typeof u=="function"&&u.call(n,r)}};ko.virtualElements.allowedBindings.init=!0;ko.bindingHandlers.jquery={init:function(t,i){var r=ko.unwrap(i());n(t)[r]()}};ko.bindingHandlers.accordion={init:function(t,i){n(t).accordion(ko.unwrap(i())||{})}},function(){function t(n){var t=n();return ko.isObservable(t)&&(t={disabled:!1,value:t}),{disabled:ko.unwrap(t.disabled),value:ko.unwrap(t.value)}}ko.bindingHandlers.progressbar={init:function(i,r){n(i).progressbar(t(r))},update:function(i,r){n(i).progressbar("option",t(r))}}}();ko.bindingHandlers.fade={init:function(t,i){ko.unwrap(i())?n(t).show():n(t).hide()},update:function(t,i){ko.unwrap(i())?n(t).fadeIn():n(t).fadeOut()}};ko.bindingHandlers.fadeIn={init:ko.bindingHandlers.fade.init,update:function(t,i){ko.unwrap(i())?n(t).fadeIn():n(t).hide()}};ko.bindingHandlers.slideDown={init:ko.bindingHandlers.fade.init,update:function(t,i){ko.unwrap(i())?n(t).slideDown():n(t).hide()}};ko.bindingHandlers.slideDownUp={init:ko.bindingHandlers.fade.init,update:function(t,i){ko.unwrap(i())?n(t).slideDown():n(t).slideUp()}};ko.bindingHandlers.sortable={init:function(t,i,r){var e=n(t),o=i(),u,f;o&&(u=r(),f=u.foreach||u.template.foreach,e.data("ko-sort-array",f).sortable(o).bind("sortstart",function(n,t){var i=t.item;i.data("ko-sort-array",f);i.data("ko-sort-index",i.index())}).bind("sortupdate",function(n,t){var i=t.item,r=i.parent();if(r[0]==e[0]){var u=i.data("ko-sort-array"),f=i.data("ko-sort-index"),o=r.data("ko-sort-array"),s=i.index(),h=u.splice(f,1)[0];o.splice(s,0,h)}}))}};ko.bindingHandlers.fileupload={init:function(t,i){var r=ko.unwrap(i());r.dataType||(r.dataType="JSON");n(t).fileupload(r)}};ko.bindingHandlers.autocomplete={init:function(t,i){var r=ko.unwrap(i()),u;(typeof r=="string"&&(r={source:r}),typeof r=="object")&&(n.isNumeric(r.delay)||(u=n.isArray(r.source),r.delay=u?0:250),n(t).autocomplete(r))}};n.timeago&&(n.timeago.settings.allowFuture=!0,ko.utils.extend(n.timeago.settings.strings,{minute:"a minute",hour:"an hour",hours:"%d hours",day:"a day",days:"%d days",month:"a month",months:"%d months",year:"a year"}),ko.bindingHandlers.timeago={init:function(t){n(t).addClass("timeago")},update:function(t,i){var u=n(t),r=ko.unwrap(i());r!=null&&(typeof r=="number"&&(r=new Date(r)),r instanceof Date&&(u.attr("title",r.toString()),u.data("timeago")?(u.data("timeago",{datetime:r}),u.text(n.timeago.inWords(r))):(u.data("timeago",{datetime:r}),u.timeago())))}});n.fn.textext&&(ko.bindingHandlers.textext={init:function(t,i,r){var e=n(t),u=r().textextOptions||{},f=["tags"];e.attr("placeholder")!=undefined&&f.push("prompt");u.ajax&&(f.push("autocomplete","ajax"),u.ajax.dataType||(u.ajax.dataType="json"));n.extend(u,{plugins:f,extTags:{setTags:function(t){t&&(n(this.tagElements()).remove(),this.addTags(t))}}});e.textext(u).on({setFormData:function(n,t){var r=i();r(t)}})},update:function(t,i){var r=ko.unwrap(i())||[],u=n(t).textext();u[0].tags().setTags(r)}});n.fn.select2&&(ko.bindingHandlers.select2={init:function(t,i,r){var u=i(),f=r(),e=f.lookupKey,o;n(t).select2(u);e&&(o=ko.unwrap(f.value),n(t).select2("data",ko.utils.arrayFirst(u.data.results,function(n){return n[e]===o})));ko.utils.domNodeDisposal.addDisposeCallback(t,function(){n(t).select2("destroy")})},update:function(t){n(t).trigger("change")}});ko.bindingHandlers.post={update:function(t,i,r){var u=n(t),s=ko.unwrap(i()),o=s.content(),e,f,h;if(o!=null){if(e=s.mimeType(),e=="text/plain"?u.addClass("_prewrap"):u.removeClass("_prewrap"),e=="text/plain"){u.text(o);return}if(e=="text/html"){u.html(o);return}if(e!="text/x-markdown"){u.html("<!-- Error: Unsupported mime type "+e+" -->");return}f=u.data("markdown");f||(h=r().postMarkdown||{},f=new Kaggle.Markdown.Converter(h),u.data("markdown",f));f.width=t.clientWidth;u.html(f.makeHtml(o));f.math&&typeof MathJax!="undefined"&&window.MathJax.Hub.Queue(["Typeset",window.MathJax.Hub,t])}}}})(jQuery),function(){Kaggle.Url.blobContainer=function(n){return Kaggle.Constant.blobService+n};Kaggle.Url.loginReturnUrl=function(n){return"/account/login?ReturnUrl="+escape(n)};Kaggle.Url.replaceMetaContent="/admin/replace-meta-content";Kaggle.Url.Rest={Attributes:"/knockout/attributes",Competitions:"/knockout/competitions",Countries:"/knockout/countries",Languages:"/knockout/languages",Forums:"/knockout/forums",Profiles:"/knockout/profiles",SiteStatistics:"/knockout/site-statistics",TimeZones:"/knockout/time-zones",TimeZoneContinents:"/knockout/time-zones/continents",UserAttributes:"/knockout/user-attributes"};Kaggle.Url.mvcDotNetWorkaroundRestGetUrl=function(n){return n.restUrl()+"/"+n.id};Kaggle.Url.mvcDotNetWorkaroundRestPostUrl=function(n){return n.restUrl()+"/POST"};Kaggle.Url.mvcDotNetWorkaroundRestPutUrl=function(n){return n.restGetUrl()+"/PUT"};Kaggle.Url.mvcDotNetWorkaroundRestDeleteUrl=function(n){return n.restGetUrl()+"/DELETE"};Kaggle.Url.fetchProspector=function(n){return Kaggle.Url.Rest.Competitions+"/"+n+"/prospector"};Kaggle.Url.updateProspector=function(n){return Kaggle.Url.Rest.Competitions+"/"+n+"/prospector/PUT"};Kaggle.Url.fetchProspect=function(n,t){return Kaggle.Url.Rest.Competitions+"/"+n+"/prospect/"+t};Kaggle.Url.createProspectDraft=function(n,t){return Kaggle.Url.Rest.Competitions+"/"+n+"/prospect/"+t+"/draft"};Kaggle.Url.createProspectComment=function(n,t){return Kaggle.Url.Rest.Competitions+"/"+n+"/prospect/"+t+"/comment"};Kaggle.Url.createProspectVote=function(n,t){return Kaggle.Url.Rest.Competitions+"/"+n+"/prospect/"+t+"/vote"};Kaggle.Url.createProspectVideo=function(n,t){return Kaggle.Url.Rest.Competitions+"/"+n+"/prospect/"+t+"/video"};Kaggle.Url.saveProspectSlideOrder=function(n,t){return Kaggle.Url.Rest.Competitions+"/"+n+"/prospect/"+t+"/slides"};Kaggle.Url.deleteProspectFile=function(n,t,i){return Kaggle.Url.Rest.Competitions+"/"+n+"/prospect/"+t+"/file/"+i};Kaggle.Url.thumbnailProspectSlide=function(n,t,i,r,u){return i.isImage()?Kaggle.Url.thumbnailProspectImage(n,t,i.id,r,u):i.isVideo()?i.video().thumbnailSrc():null};Kaggle.Url.thumbnailProspectImage=function(n,t,i,r,u){var f=Kaggle.Url.Rest.Competitions+"/"+n+"/prospect/"+t+"/image/"+i;return r&&(f=f+"?width="+r,u&&(f=f+"&height="+u)),f};Kaggle.Url.profileResults=function(n){return n.url()+"/results"};Kaggle.Url.profileScripts=function(n){return n.url()+"/scripts"};Kaggle.Url.profileForum=function(n){return n.url()+"/forum"};Kaggle.Url.profileMessage=function(n){return n.url()+"/message"};Kaggle.Url.profileAccount=function(n){return n.url()+"/account"};Kaggle.Url.profileEdit=function(n){return n.url()+"/edit"};Kaggle.Url.profileActivity=function(n){return n.url()+"/activity"};Kaggle.Url.profileHunnerdbux=function(n){return n.url()+"/hunnerdbux"};Kaggle.Url.profileRestDisplay=function(n){return n.restGetUrl()+"/display"};Kaggle.Url.profileRestLegal=function(n){return n.restGetUrl()+"/legal"};Kaggle.Url.profileRestEmail=function(n){return n.restGetUrl()+"/email"};Kaggle.Url.profileRestBirthday=function(n){return n.restGetUrl()+"/birthday"};Kaggle.Url.competitionUrl=function(n){return window.location.protocol+"//"+n.site().hostName()+"/c/"+n.name()};Kaggle.Url.competitionLogo=function(n){return Kaggle.Url.competitionFile(n,"logos/front_page.png")};Kaggle.Url.competitionThumbnail=function(n){return Kaggle.Url.competitionFile(n,"logos/thumb76_76.png")};Kaggle.Url.competitionFile=function(n,t){var i=n.site();return i?[Kaggle.Url.blobContainer("competitions"),n.site().shortName(),n.id,t].join("/"):null};Kaggle.Url.competitionTeam=function(n){return Kaggle.Url.competitionUrl(n)+"/team"};Kaggle.Url.teamPath=function(n){return"/t/"+n.id+"/"+n.slug()};Kaggle.Url.teamMakeLeader=function(n,t){return Kaggle.Url.teamPath(n)+"/leader/"+t.id};Kaggle.Url.teamSaveSettings=function(n){return Kaggle.Url.teamPath(n)+"/settings"};Kaggle.Url.teamInvite=function(n){return Kaggle.Url.teamPath(n)+"/invite"};Kaggle.Url.teamUninvite=function(n){return Kaggle.Url.teamPath(n)+"/uninvite"};Kaggle.Url.prospectEdit=function(n){return n.url()+"/edit"};Kaggle.Url.prospectPublish=function(n){return n.url()+"/publish"};Kaggle.Url.prospectSave=function(n){return n.url()+"/save"};Kaggle.Url.prospectRetract=function(n){return n.url()+"/retract"};Kaggle.Url.prospectDelete=function(n){return n.url()+"/delete"};Kaggle.Url.forumRedirectUrl=function(n){return"/forums/f/"+n.id};Kaggle.Url.forumTopicRedirectUrl=function(n){return"/forums/t/"+n.id};Kaggle.Url.forumMessageRedirectUrl=function(n){var t=n.forumTopic();return t?t.redirectUrl()+"/p/"+n.id:null}}(),function(n){Kaggle.Format={};Kaggle.Format.text2css=function(t){return t==null?null:n.trim(t.replace(/[^\w\s]+/,"")).replace(/\s+/g,"-").toLowerCase()};Kaggle.Format.inflectIntegerNo=function(n,t,i){return n==null?null:(typeof n=="string"&&(n=parseInt(n,10)),typeof n!="number"||isNaN(n))?"":n===0?"No "+i:n===1?n+" "+t:n+" "+i};var t=["byte","bytes","KB","MB","GB"],i=function(n){return n<10?n.toFixed(2):n<100?n.toFixed(1):n.toFixed(0)};Kaggle.Format.fileSize=function(n){return(typeof n=="string"&&(n=parseInt(n,10)),typeof n!="number"||isNaN(n))?"":n===0?"0 "+t[0]:n==1?"1 "+t[0]:n<1024?n+" "+t[1]:n<1048576?i(n/1024)+" "+t[2]:n<1073741824?i(n/1048576)+" "+t[3]:i(n/1073741824)+" "+t[4]}}(jQuery),function(n){Kaggle.Page.tabs=function(t){return ko.utils.extend(ko.observable(t),{cache:{},show:function(t,i){return function(){return history.replaceState("","",n(i).attr("href")),this(t),!1}.bind(this)},showing:function(n){return this.cache[n]||(this.cache[n]=ko.computed(function(){return this()==n},this)),this.cache[n]}})};Kaggle.Page.partial=function(t){if(!Kaggle.Page.partial[t]){var u=ko.observable(),f=ko.observable(!1),i=ko.observable(!1),r=ko.computed({read:function(){return f()?u():i()?null:(i(!0),n.get(t,function(n){u(n);f(!0);i(!1)}),null)},deferEvaluation:!0});r.html=u;r.loaded=f;r.loading=i;Kaggle.Page.partial[t]=r}return Kaggle.Page.partial[t]}}(jQuery),function($){with(Kaggle.Model)Kaggle.Model.extend=ko.utils.extend,Kaggle.Model.subclass=function(n,t){return t.prototype=new n,t.prototype.constructor=t,t},Kaggle.Model.reportAjaxError=function(n){n.hasOwnProperty("message")&&(n.toString=function(){return this.method+" "+this.url});throw new Error(n);},Kaggle.Model.entity=function(n,t){var entity=subclass(Entity,function(){Entity.apply(this,arguments)}),i,mixin,method;if(Kaggle.Model[n]=entity,entity.type=n,entity.initialize=[],t.meta||(t.meta={}),t.mixin){if(typeof t.mixin=="object")for(i in t.mixin)mixin=t.mixin[i],mixin.call(mixin,entity,t);delete t.mixin}t.meta&&(entity.meta=new Meta(t.meta),delete t.meta);t.initialize&&(entity.initialize.push(t.initialize),delete t.intialize);for(method in t)typeof t[method]=="function"&&(entity.prototype[method]=t[method])},Kaggle.Model.trackType=function(n){Kaggle.Model.trackEntity(Kaggle.Model[n])},Kaggle.Model.trackEntity=function(n){n.initialize.push(function(){Kaggle.Model.trackObject(this)})},Kaggle.Model.trackObject=function(n){var meta=n.constructor.meta,track=[],name,i,property,reverse;for(name in meta)meta[name]instanceof Kaggle.Model.Property&&track.push(name),meta[name]instanceof Kaggle.Model.List&&track.push(name);for(i in track)property=n[track[i]],property.original=ko.observable(property.peek()),property.original.equalityComparer=property.equalityComparer,property.changed=ko.computed({read:function(){return this.loaded&&!this.loaded()?!1:!this.equalityComparer(this(),this.original())},owner:property,deferEvaluation:!0});reverse=track.slice(0).reverse();n.changed=ko.computed({read:function(){for(i in reverse)if(this[track[i]].changed())return!0;return!1},owner:n,deferEvaluation:!0});n.changed.commit=function(){for(i in track)property=n[track[i]],property.original(property.peek())};n.changed.rollback=function(){for(i in track)property=n[track[i]],property(property.original.peek())}},Kaggle.Model.Entity=function(n){var meta,name,i;n||(n={id:null});this.id=n.id;meta=this.constructor.meta;for(name in meta)meta[name].initialize(this),meta[name].set(this,n);for(i in this.constructor.initialize)this.constructor.initialize[i].apply(this,arguments)},Kaggle.Model.Entity.prototype.set=function(n){var meta=this.constructor.meta;for(var name in meta)meta[name].set(this,n);return!0},Kaggle.Model.Entity.prototype.formData=function(){var meta=this.constructor.meta,form={},name,value;for(name in meta)meta[name]instanceof Property&&(value=this[name].peek(),value!=null&&(form[name]=value)),meta[name]instanceof List&&(form[name]=this[name].peek()||[]);return form},Kaggle.Model.Meta=function(n){for(var name in n)this[name]=n[name],this[name].name=name},Kaggle.Model.Member=function(){},Kaggle.Model.Internal=subclass(Member,function(){arguments.length&&(this["default"]=arguments[0])}),Kaggle.Model.Internal.prototype.initialize=function(n){n[this.name]=ko.observable(this["default"])},Kaggle.Model.Internal.prototype.set=function(){},Kaggle.Model.Property=subclass(Member,function(){arguments.length&&(this["default"]=arguments[0])}),Kaggle.Model.Property.prototype.initialize=function(n){n[this.name]=ko.observable(this["default"])},Kaggle.Model.Property.prototype.set=function(n,t){var name=this.name;t.hasOwnProperty(name)&&n[name](t[name])},Kaggle.Model.List=subclass(Member,function(){arguments.length&&(this["default"]=arguments[0])}),Kaggle.Model.List.prototype.initialize=function(n){n[this.name]=ko.observableArray(this["default"]);n[this.name].equalityComparer=ko.utils.valuesAreRecursivelyEqual},Kaggle.Model.List.prototype.set=function(n,t){var name=this.name;t.hasOwnProperty(name)&&n[name](t[name])},Kaggle.Model.Computed=subclass(Member,function(n,t){this.code=n;this.options=t||{};this.options.hasOwnProperty("deferEvaluation")||(this.options.deferEvaluation=!0)}),Kaggle.Model.Computed.prototype.initialize=function(n,t){var merged=extend(t||{},this.options);n[this.name]=ko.computed(this.code,n,merged)},Kaggle.Model.Computed.prototype.set=function(){},Kaggle.Model.Reference=subclass(Member,function(n,t){typeof n=="function"?this.type=n:this.typeName=n;this.options=t||{}}),Kaggle.Model.Reference.prototype.initialize=function(n){var rest;if(!this.type&&(this.type=Kaggle.Model[this.typeName],!this.type))throw new Error("Failed to bind "+this.name+" to non-existant entity type "+this.typeName);var name=this.name,options=this.options,member=ko.observable();if(n[name]=member,n[name].meta=this,n[name].id=ko.observable(),n[name+"Id"]=ko.observable(),rest=options.Rest,rest)if(typeof rest=="boolean"){if(!this.typeCache&&(this.typeCache=Kaggle.Model[this.typeName+"Cache"],!this.typeCache))throw new Error("Failed to bind "+this.name+" to non-cached entity type "+this.typeName);member.loading=ko.computed(function(){var target=this();return target?target.loading():!1},member);member.loaded=ko.computed(function(){var target=this();return target?target.loaded():!1},member);member.load=ko.computed({read:function(){if(this.peek())return this().load();var target=member.meta.typeCache.get(this.id()),result=target.load();return this(target),result},owner:member,deferEvaluation:!0});member.refresh=function(){if(member.peek())return member.refresh();var target=member.meta.typeCache.get(this.id());return target.refresh()}}else member.loading=ko.observable(!1),member.loaded=ko.observable(!1),member.load=ko.computed({read:function(){return n.restUrl()?this.loaded()?this.peek():this.refresh():this.loaded()},owner:member,deferEvaluation:!0}),member.refresh=function(){if(n.restUrl()&&!member.loading.peek()){member.loading(!0);var url=member.restUrl();$.ajax({type:"GET",url:url,dataType:"json",context:member,error:function(n,t){this.loading(!1);Kaggle.Model.reportAjaxError({message:"Kaggle JSON API call failed",status:t,method:"GET",url:url})},success:function(t){this.loading(!1);var proto={};proto[name]=t;this.meta.set(n,proto);this.loaded(!0);return}})}return member.loaded.peek()},member.save=function(t){if(!n.restUrl()||this.loaded.peek()){var url=this.restUrl()+"/PUT",child=this.peek();$.ajax({type:"POST",url:url,dataType:"json",data:child.formData(),traditional:!0,context:this,error:function(n,t){Kaggle.Model.reportAjaxError({message:"Kaggle JSON API call failed",status:t,method:"POST",url:url})},success:function(i){i.id&&!child.id&&(child.id=i.id,this.id(i.id));typeof i=="object"&&child.set(i);child.changed&&child.changed.commit();typeof t=="function"&&t(n,i)}})}},member.restUrl=typeof this.restUrl=="function"?this.restUrl:function(){return n.restGetUrl()+"/"+options.Rest}},Kaggle.Model.Reference.prototype.set=function(n,t){var name=this.name,nameId=name+"Id",member=n[name],id,value,child,type;t.hasOwnProperty(nameId)&&(id=t[nameId],member.id.peek()!=id&&member(null),member.id(id),n[nameId](id));t.hasOwnProperty(name)&&(value=t[name],child=member.peek(),child?(child.set(value),child.id&&child.id!=member.id.peek()&&member.id(child.id)):typeof value=="object"?(type=this.type,child=new type(value),member(child),member.id(child.id)):value||(member(null),member.id(null)))},Kaggle.Model.Collection=subclass(Member,function(n,t){typeof n=="function"?this.type=n:this.typeName=n;this.options=t||{}}),Kaggle.Model.Collection.nameRegexp=/^(.+)List$/,Kaggle.Model.Collection.prototype.initialize=function(n){var order;if(!this.type&&(this.type=Kaggle.Model[this.typeName],!this.type))throw new Error("Failed to bind "+this.name+" to entity type "+this.typeName);var name=this.name,root=this.root(),options=this.options,member=ko.observableArray();n[name]=member;n[name].meta=this;options.Count&&(n[root+"Count"]=ko.computed({read:function(){return this[name]().length},owner:n,deferEvaluation:!0}));options.Order&&(order=options.Order,n[root+"Order"]=ko.computed({read:function(){return ko.utils.arraySort(this[name](),order)},owner:n,deferEvaluation:!0}));options.IdList&&(n[root+"IdList"]=function(){return ko.utils.arrayMap(this[name].peek(),function(n){return n.id})});options.Rest&&(member.loading=ko.observable(!1),member.loaded=ko.observable(!1),member.count=ko.computed(function(){return this.loaded()?this.length:null},member),member.load=ko.computed({read:function(){return n.id?this.loaded()?this.peek():this.refresh():this.loaded()},owner:member,deferEvaluation:!0}),member.refresh=function(){if(n.id&&!this.loading.peek()){this.loading(!0);var url=this.restUrl();$.ajax({type:"GET",url:url,dataType:"json",context:this,error:function(n,t){Kaggle.Model.reportAjaxError({message:"Kaggle JSON API call failed",status:t,method:"GET",url:url});member.loading(!1)},success:function(t){member.loading(!1);var data={};data[name]=t;this.meta.set(n,data);member.loaded(!0)}})}return this.loaded.peek()},member.restUrl=typeof this.restUrl=="function"?this.restUrl:function(){return n.restGetUrl()+"/"+options.Rest})},Kaggle.Model.Collection.prototype.set=function(n,t){var name=this.name,value=t[name],member=n[name],peek,i,oldOrder,newOrder,id,type,object;if($.isArray(value)){if(value.length)if(peek=member.peek(),this.equals(peek,value))for(i in peek)peek[i].set(value[i]);else{oldOrder=this.hash(peek);newOrder=this.hash(value);member.valueHasMutated();for(i in peek)id=peek[i].id,newOrder.hasOwnProperty(id)?peek[i].set(value[newOrder[id]]):peek.splice(i,1);for(i in value)(id=value[i].id,oldOrder.hasOwnProperty(id))||(type=this.type,object=new type(value[i]),peek.push(object));peek.sort(function(n,t){return newOrder[n.id]-newOrder[t.id]});member.valueHasMutated()}else member.peek().length>0&&member.removeAll();member.loaded&&member.loaded(!0)}},Kaggle.Model.Collection.prototype.root=function(){var name=this.name,match;return name==null?null:(match=Collection.nameRegexp.exec(name),match?match[1]:name)},Kaggle.Model.Collection.prototype.equals=function(n,t){if(n.length!=t.length)return!1;for(var i in n)if(n[i].id!=t[i].id)return!1;return!0},Kaggle.Model.Collection.prototype.hash=function(n){var hash={};for(var i in n)hash[n[i].id]=i;return hash},Kaggle.Model.SiteMixin=function(n,t){t.meta.siteId=new Property;n.prototype.site=function(){return SiteCache.get(this.siteId())}},Kaggle.Model.UserMixin=function(n,t){t.meta.userId=new Property;t.meta.profile=new Computed(function(){return Kaggle.Model.ProfileCache.load(this.userId())})},Kaggle.Model.RestMixin=function(n,t){n.prototype.refresh=function(){return this.id&&!this.loading.peek()&&(this.loading(!0),this.restGet(function(n){n.loading(!1);n.loaded(!0)})),this.loaded.peek()};t.meta.loading=new Internal;t.meta.loaded=new Internal;t.meta.load=new Computed(function(){return this.id?this.loaded()?this:this.refresh():this.loaded()?this:!1});n.prototype.restGet=function(n){var url=this.restGetUrl();$.ajax({type:"GET",url:url,dataType:"json",context:this,error:function(n,t){Kaggle.Model.reportAjaxError({message:"Kaggle JSON API call failed",status:t,method:"GET",url:url})},success:function(t){this.set(t);this.changed&&this.changed.commit();typeof n=="function"&&n(this,t);return}});return};n.prototype.restGetUrl=function(){return Kaggle.Url.mvcDotNetWorkaroundRestGetUrl(this)};n.prototype.restPost=function(n){var url=this.restPostUrl(),data=this.restPostData();$.ajax({type:"POST",url:url,data:data,traditional:!0,dataType:"json",context:this,error:function(n,t){Kaggle.Model.reportAjaxError({message:"Kaggle JSON API call failed",status:t,method:"POST",url:url})},success:function(t){this.id==null&&t.id&&(this.id=t.id);typeof t=="object"&&this.set(t);this.changed&&this.changed.commit();typeof n=="function"&&n(this,t);return}});return};n.prototype.restPostUrl=function(){return Kaggle.Url.mvcDotNetWorkaroundRestPostUrl(this)};n.prototype.restPostData=function(){return this.formData()};n.prototype.restPut=function(n){var url=this.restPutUrl(),data=this.restPutData();$.ajax({type:"POST",url:url,data:data,traditional:!0,dataType:"json",context:this,error:function(n,t){Kaggle.Model.reportAjaxError({message:"Kaggle JSON API call failed",status:t,method:"POST",url:url})},success:function(t){typeof t=="object"&&this.set(t);this.changed&&this.changed.commit();typeof n=="function"&&n(this,t);return}});return};n.prototype.restPutUrl=function(){return Kaggle.Url.mvcDotNetWorkaroundRestPutUrl(this)};n.prototype.restPutData=function(){return this.formData()};n.prototype.restDelete=function(n){var url=this.restDeleteUrl();$.ajax({type:"POST",url:url,dataType:"json",context:this,error:function(n,t){Kaggle.Model.reportAjaxError({message:"Kaggle JSON API call failed",status:t,method:"POST",url:url})},success:function(t){typeof t=="object"&&this.set(t);this.changed&&this.changed.commit();typeof n=="function"&&n(this,t);return}})};n.prototype.restDeleteUrl=function(){return Kaggle.Url.mvcDotNetWorkaroundRestDeleteUrl(this)};n.prototype.partial=function(n){return Kaggle.Page.partial(this.restGetUrl()+"/partial/"+n)};n.cache={load:function(n){var object=this.get(n);return object?object.load():object},get:function(t){return t==null?null:(typeof this[t]!="object"&&(this[t]=new n({id:t})),this[t])},peek:function(n){return n==null?null:this[n]},set:function(t){if(t instanceof Object&&t.id!=null){var id=t.id;return this[id]?(this[id].set(t),this[id]):this[id]=new n(t)}return null}};Kaggle.Model[n.type+"Cache"]=n.cache},Kaggle.Model.AllMixin=function(n){var all=ko.observableArray([]);all.loading=ko.observable(!1);all.loaded=ko.observable(!1);all.load=ko.computed({read:function(){return n.prototype.restUrl()?this.loaded()?this.peek():this.refresh():this.loaded()},owner:all,deferEvaluation:!0});all.refresh=function(){if(all.loading.peek())return all.loaded.peek();all.loading(!0);var url=n.prototype.restUrl();return $.ajax({type:"GET",url:url,dataType:"json",context:all,error:function(n,t){Kaggle.Model.reportAjaxError({message:"Kaggle JSON API call failed",status:t,method:"GET",url:url});all.loading(!1)},success:function(t){var peek,cache,i;this.loading(!1);this.valueWillMutate();this([]);peek=this.peek();cache=n.cache;for(i in t)peek.push(cache?cache.set(t[i]):new n(t[i]));this.valueHasMutated();this.loaded(!0)}}),all.loaded.peek()};n.All=all}}(jQuery);
//# sourceMappingURL=kaggle.knockout.min.js.map
